---
layout: post
title: "ansi输出带颜色文字"
subtitle: "颜色文字"
date: 2023-06-26
categories: linux
author: Jason
# cover: "assets/img/profile.png"
tags: 彩色文本 ansi
---

## 介绍

---

在日常操作 linux 系统时，时常需要对指定的内容进行标注，以更直观地呈现重点内容，比如 ansible 的返回就通过不同的颜色来标识不同的执行状态。

## 实现原理

Linux 终端 ANSI 控制码

## 基本格式

\033[字背景颜色;字体颜色 m字符串\033[0m

### 简单分析

格式上可以拆分为 3 个部分

- 指定颜色的开头：\033[字背景颜色;字体颜色 m
- 内容：字符串
- 尾部控制码：\033[0m

其中“字背景颜色”和“字体颜色”参照文末的对照表

## 颜色对照表

> 字背景颜色范围: 30--39

| 数值 | 颜色 |
| ---- | ---- |
| 30   | 黑   |
| 31   | 红   |
| 32   | 绿   |
| 33   | 黄   |
| 33   | 蓝   |
| 35   | 紫   |
| 36   | 深绿 |
| 37   | 白色 |

> 字颜色: 30--39

| 数值 | 颜色 |
| ---- | ---- |
| 30   | 黑   |
| 31   | 红   |
| 32   | 绿   |
| 33   | 黄   |
| 34   | 蓝   |
| 35   | 紫   |
| 36   | 深绿 |
| 37   | 白色 |

> 常用 ANSI 控制码

| 控制码              | 功能                   |
| ------------------- | ---------------------- |
| \033[0m             | 关闭所有属性           |
| \033[1m             | 设置高亮度             |
| \033[4m             | 下划线                 |
| \033[5m             | 闪烁                   |
| \033[7m             | 反显                   |
| \033[8m             | 消隐                   |
| \033[30m -- \033[0m | 设置字体为黑色         |
| \033[40m -- \033[0m | 设置背景为黑色         |
| \033[nA             | 光标上移 n 行          |
| \033[nB             | 光标下移 n 行          |
| \033[nC             | 光标右移 n 行          |
| \033[nD             | 光标左移 n 行          |
| \033[y;xH           | 设置光标位置           |
| \033[2J             | 清屏                   |
| \033[K              | 清除从光标到行尾的内容 |
| \033[s              | 保存光标位置           |
| \033[u              | 恢复光标位置           |
| \033[?25l           | 隐藏光标               |
| \033[?25h           | 显示光标               |

> 参考连接：<https://qastack.cn/programming/4842424/list-of-ansi-color-escape-sequences>
